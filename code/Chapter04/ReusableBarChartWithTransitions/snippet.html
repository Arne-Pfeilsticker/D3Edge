 <pre><code style="display: block; padding: 0.5em; background-color: #f4f4f4; font-size: 0.75em; color: black;"><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">001:</span><span class="comment" style="color: #777;">//&nbsp;Reusable&nbsp;version&nbsp;with&nbsp;transitions</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">002:</span><span class="comment" style="color: #777;">///////////////////////////////////////////////////////////////////////</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">003:</span><span class="comment" style="color: #777;">//&nbsp;Chart&nbsp;module</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">004:</span>d3.edge&nbsp;=&nbsp;{};<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">005:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">006:</span>d3.edge.barChart&nbsp;=&nbsp;<span class="function"><span class="keyword" style="font-weight: bold; color: navy;">function</span>&nbsp;<span class="func-title">module</span><span class="params">()</span>&nbsp;{</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">007:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;w&nbsp;=&nbsp;<span class="number" style="color: #800;">400</span>,<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">008:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;=&nbsp;<span class="number" style="color: #800;">300</span>;<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">009:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;dispatch&nbsp;=&nbsp;d3.dispatch(<span class="string" style="color: #050;">"customHover"</span>);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">010:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="function"><span class="keyword" style="font-weight: bold; color: navy;">function</span>&nbsp;<span class="func-title">exports</span><span class="params">(_selection)</span>&nbsp;{</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">011:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_selection.each(<span class="keyword" style="font-weight: bold; color: navy;">function</span>(_data)&nbsp;{<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">012:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;barW&nbsp;=&nbsp;w&nbsp;/&nbsp;_data.length,<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">013:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaling&nbsp;=&nbsp;h&nbsp;/&nbsp;d3.max(_data);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">014:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">015:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color: #777;">//&nbsp;Trick&nbsp;to&nbsp;just&nbsp;append&nbsp;the&nbsp;svg&nbsp;skeleton&nbsp;once</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">016:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;svg&nbsp;=&nbsp;d3.select(<span class="keyword" style="font-weight: bold; color: navy;">this</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">017:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.selectAll(<span class="string" style="color: #050;">"svg"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">018:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.data([_data]);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">019:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;svg.enter().append(<span class="string" style="color: #050;">"svg"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">020:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.classed(<span class="string" style="color: #050;">"chart"</span>,&nbsp;<span class="literal" style="color: #800;">true</span>);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">021:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;svg.transition().attr({width:&nbsp;w,&nbsp;height:&nbsp;h});<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">022:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">023:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color: #777;">//&nbsp;Enter,&nbsp;Update,&nbsp;Exit&nbsp;on&nbsp;bars</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">024:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;bars&nbsp;=&nbsp;svg.selectAll(<span class="string" style="color: #050;">".bar"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">025:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.data(<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d,&nbsp;i)&nbsp;{&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;d;&nbsp;<span class="comment" style="color: #777;">/*&nbsp;d&nbsp;===&nbsp;_data&nbsp;*/</span>&nbsp;});<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">026:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bars.enter().append(<span class="string" style="color: #050;">"rect"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">027:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.classed(<span class="string" style="color: #050;">"bar"</span>,&nbsp;<span class="literal" style="color: #800;">true</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">028:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr({<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">029:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x:&nbsp;w,<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">030:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;barW,<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">031:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d,&nbsp;i)&nbsp;{&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;h&nbsp;-&nbsp;d&nbsp;*&nbsp;scaling;&nbsp;},<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">032:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height:&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d,&nbsp;i)&nbsp;{&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;d&nbsp;*&nbsp;scaling;&nbsp;}<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">033:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">034:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.on(<span class="string" style="color: #050;">"mouseover"</span>,&nbsp;dispatch.customHover);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">035:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bars.transition()<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">036:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr({<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">037:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x:&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d,&nbsp;i)&nbsp;{&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;i&nbsp;*&nbsp;barW;&nbsp;},<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">038:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;barW,<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">039:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d,&nbsp;i)&nbsp;{&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;h&nbsp;-&nbsp;d&nbsp;*&nbsp;scaling;&nbsp;},<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">040:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height:&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d,&nbsp;i)&nbsp;{&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;d&nbsp;*&nbsp;scaling;&nbsp;}<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">041:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">042:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bars.exit().transition().style({opacity:&nbsp;<span class="number" style="color: #800;">0</span>}).remove();<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">043:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">044:</span>&nbsp;&nbsp;&nbsp;&nbsp;}<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">045:</span>&nbsp;&nbsp;&nbsp;&nbsp;exports.w&nbsp;=&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(_x)&nbsp;{<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">046:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">if</span>&nbsp;(!arguments.length)&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;w;<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">047:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;=&nbsp;_x;<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">048:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">this</span>;<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">049:</span>&nbsp;&nbsp;&nbsp;&nbsp;};<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">050:</span>&nbsp;&nbsp;&nbsp;&nbsp;exports.h&nbsp;=&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(_x)&nbsp;{<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">051:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">if</span>&nbsp;(!arguments.length)&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;h;<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">052:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;=&nbsp;_x;<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">053:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">this</span>;<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">054:</span>&nbsp;&nbsp;&nbsp;&nbsp;};<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">055:</span>&nbsp;&nbsp;&nbsp;&nbsp;d3.rebind(exports,&nbsp;dispatch,&nbsp;<span class="string" style="color: #050;">"on"</span>);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">056:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;exports;<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">057:</span>};<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">058:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">059:</span><span class="comment" style="color: #777;">//&nbsp;Usage</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">060:</span><span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;barChart&nbsp;=&nbsp;d3.edge.barChart()<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">061:</span>&nbsp;&nbsp;&nbsp;&nbsp;.w(<span class="number" style="color: #800;">500</span>).h(<span class="number" style="color: #800;">200</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">062:</span>&nbsp;&nbsp;&nbsp;&nbsp;.on(<span class="string" style="color: #050;">"customHover"</span>,&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d,&nbsp;i)&nbsp;{<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">063:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d3.select(<span class="string" style="color: #050;">"#message"</span>).text(d);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">064:</span>&nbsp;&nbsp;&nbsp;&nbsp;});<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">065:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">066:</span><span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;data&nbsp;=&nbsp;[<span class="number" style="color: #800;">1</span>,&nbsp;<span class="number" style="color: #800;">2</span>,&nbsp;<span class="number" style="color: #800;">3</span>,&nbsp;<span class="number" style="color: #800;">4</span>];<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">067:</span><span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;container&nbsp;=&nbsp;d3.select(<span class="string" style="color: #050;">"#container"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">068:</span>&nbsp;&nbsp;&nbsp;&nbsp;.datum(data)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">069:</span>&nbsp;&nbsp;&nbsp;&nbsp;.call(barChart);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">070:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">071:</span><span class="comment" style="color: #777;">//&nbsp;The&nbsp;chart&nbsp;can&nbsp;be&nbsp;called&nbsp;with&nbsp;new&nbsp;data</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">072:</span><span class="function"><span class="keyword" style="font-weight: bold; color: navy;">function</span>&nbsp;<span class="func-title">updateData</span><span class="params">(_data)</span>&nbsp;{</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">073:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color: #777;">//&nbsp;Here&nbsp;we&nbsp;generate&nbsp;a&nbsp;random&nbsp;data&nbsp;array&nbsp;of&nbsp;random&nbsp;length</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">074:</span>&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;=&nbsp;d3.range(~~(Math.random()&nbsp;*&nbsp;<span class="number" style="color: #800;">50</span>)).map(<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d,&nbsp;i)&nbsp;{<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">075:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;~~(Math.random()&nbsp;*&nbsp;<span class="number" style="color: #800;">100</span>);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">076:</span>&nbsp;&nbsp;&nbsp;&nbsp;});<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">077:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">078:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color: #777;">//&nbsp;Transition&nbsp;settings&nbsp;are&nbsp;inherited</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">079:</span>&nbsp;&nbsp;&nbsp;&nbsp;container.datum(data)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">080:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.transition()<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">081:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.ease(<span class="string" style="color: #050;">"linear"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">082:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.call(barChart);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">083:</span>}<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">084:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">085:</span><span class="comment" style="color: #777;">//&nbsp;The&nbsp;chart&nbsp;can&nbsp;be&nbsp;called&nbsp;with&nbsp;new&nbsp;parameters</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">086:</span><span class="function"><span class="keyword" style="font-weight: bold; color: navy;">function</span>&nbsp;<span class="func-title">updateWidth</span><span class="params">(_data)</span>&nbsp;{</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">087:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color: #777;">//&nbsp;We&nbsp;define&nbsp;a&nbsp;new&nbsp;random&nbsp;width</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">088:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;rnd&nbsp;=&nbsp;~~(Math.random()&nbsp;*&nbsp;<span class="number" style="color: #800;">500</span>);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">089:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color: #777;">//&nbsp;And&nbsp;call&nbsp;the&nbsp;chart&nbsp;again</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">090:</span>&nbsp;&nbsp;&nbsp;&nbsp;container.call(barChart.w(rnd));<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">091:</span>}<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">092:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">093:</span><span class="comment" style="color: #777;">//&nbsp;We&nbsp;animate&nbsp;the&nbsp;data&nbsp;set&nbsp;and&nbsp;the&nbsp;chart&nbsp;width&nbsp;independently:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">094:</span><span class="comment" style="color: #777;">//&nbsp;when&nbsp;you&nbsp;disable&nbsp;one&nbsp;of&nbsp;these&nbsp;timers,&nbsp;the&nbsp;other&nbsp;animation&nbsp;will&nbsp;run&nbsp;as&nbsp;before.</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">095:</span>setInterval(updateData,&nbsp;<span class="number" style="color: #800;">1000</span>);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">096:</span>setInterval(updateWidth,&nbsp;<span class="number" style="color: #800;">5000</span>);</code></pre>